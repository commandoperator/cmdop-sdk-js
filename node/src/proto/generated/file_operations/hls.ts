// Code generated by protoc-gen-ts_proto. DO NOT EDIT.
// versions:
//   protoc-gen-ts_proto  v2.11.4
//   protoc               unknown
// source: file_operations/hls.proto

/* eslint-disable */
import { BinaryReader, BinaryWriter } from "@bufbuild/protobuf/wire";

export const protobufPackage = "terminal";

/** Get HLS playlist (master or quality-specific) */
export interface HlsGetPlaylistRequest {
  /** Video file path */
  path: string;
  /** Quality level (empty for master playlist) */
  quality: string;
  /** Start position in seconds for seeking (v2.11.1) */
  startTime: number;
}

export interface HlsGetPlaylistResult {
  /** Playlist content (m3u8) */
  content: Buffer;
  /** "application/vnd.apple.mpegurl" */
  contentType: string;
  /** Total video duration in seconds (v2.11.1) */
  duration: number;
  /** Segment duration in seconds (v2.11.1) */
  segmentDuration: number;
}

/** Get HLS video segment */
export interface HlsGetSegmentRequest {
  /** Video file path */
  path: string;
  /** Quality level */
  quality: string;
  /** Segment number (0, 1, 2, ...) */
  segmentNum: number;
  /** Session start time for seeking (v2.11.1) */
  startTime: number;
}

export interface HlsGetSegmentResult {
  /** Segment content (.ts) */
  content: Buffer;
  /** "video/mp2t" */
  contentType: string;
  /** True if new FFmpeg session was created (v2.11.1) */
  createdNewSession: boolean;
}

/** Stop HLS session (cleanup FFmpeg process) */
export interface HlsStopSessionRequest {
  /** Video file path */
  path: string;
}

/** Empty - success indicated by FileOperationResult.success */
export interface HlsStopSessionResult {
}

function createBaseHlsGetPlaylistRequest(): HlsGetPlaylistRequest {
  return { path: "", quality: "", startTime: 0 };
}

export const HlsGetPlaylistRequest: MessageFns<HlsGetPlaylistRequest> = {
  encode(message: HlsGetPlaylistRequest, writer: BinaryWriter = new BinaryWriter()): BinaryWriter {
    if (message.path !== "") {
      writer.uint32(10).string(message.path);
    }
    if (message.quality !== "") {
      writer.uint32(18).string(message.quality);
    }
    if (message.startTime !== 0) {
      writer.uint32(29).float(message.startTime);
    }
    return writer;
  },

  decode(input: BinaryReader | Uint8Array, length?: number): HlsGetPlaylistRequest {
    const reader = input instanceof BinaryReader ? input : new BinaryReader(input);
    const end = length === undefined ? reader.len : reader.pos + length;
    const message = createBaseHlsGetPlaylistRequest();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1: {
          if (tag !== 10) {
            break;
          }

          message.path = reader.string();
          continue;
        }
        case 2: {
          if (tag !== 18) {
            break;
          }

          message.quality = reader.string();
          continue;
        }
        case 3: {
          if (tag !== 29) {
            break;
          }

          message.startTime = reader.float();
          continue;
        }
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skip(tag & 7);
    }
    return message;
  },

  fromJSON(object: any): HlsGetPlaylistRequest {
    return {
      path: isSet(object.path) ? globalThis.String(object.path) : "",
      quality: isSet(object.quality) ? globalThis.String(object.quality) : "",
      startTime: isSet(object.startTime)
        ? globalThis.Number(object.startTime)
        : isSet(object.start_time)
        ? globalThis.Number(object.start_time)
        : 0,
    };
  },

  toJSON(message: HlsGetPlaylistRequest): unknown {
    const obj: any = {};
    if (message.path !== "") {
      obj.path = message.path;
    }
    if (message.quality !== "") {
      obj.quality = message.quality;
    }
    if (message.startTime !== 0) {
      obj.startTime = message.startTime;
    }
    return obj;
  },

  create(base?: DeepPartial<HlsGetPlaylistRequest>): HlsGetPlaylistRequest {
    return HlsGetPlaylistRequest.fromPartial(base ?? {});
  },
  fromPartial(object: DeepPartial<HlsGetPlaylistRequest>): HlsGetPlaylistRequest {
    const message = createBaseHlsGetPlaylistRequest();
    message.path = object.path ?? "";
    message.quality = object.quality ?? "";
    message.startTime = object.startTime ?? 0;
    return message;
  },
};

function createBaseHlsGetPlaylistResult(): HlsGetPlaylistResult {
  return { content: Buffer.alloc(0), contentType: "", duration: 0, segmentDuration: 0 };
}

export const HlsGetPlaylistResult: MessageFns<HlsGetPlaylistResult> = {
  encode(message: HlsGetPlaylistResult, writer: BinaryWriter = new BinaryWriter()): BinaryWriter {
    if (message.content.length !== 0) {
      writer.uint32(10).bytes(message.content);
    }
    if (message.contentType !== "") {
      writer.uint32(18).string(message.contentType);
    }
    if (message.duration !== 0) {
      writer.uint32(29).float(message.duration);
    }
    if (message.segmentDuration !== 0) {
      writer.uint32(32).int32(message.segmentDuration);
    }
    return writer;
  },

  decode(input: BinaryReader | Uint8Array, length?: number): HlsGetPlaylistResult {
    const reader = input instanceof BinaryReader ? input : new BinaryReader(input);
    const end = length === undefined ? reader.len : reader.pos + length;
    const message = createBaseHlsGetPlaylistResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1: {
          if (tag !== 10) {
            break;
          }

          message.content = Buffer.from(reader.bytes());
          continue;
        }
        case 2: {
          if (tag !== 18) {
            break;
          }

          message.contentType = reader.string();
          continue;
        }
        case 3: {
          if (tag !== 29) {
            break;
          }

          message.duration = reader.float();
          continue;
        }
        case 4: {
          if (tag !== 32) {
            break;
          }

          message.segmentDuration = reader.int32();
          continue;
        }
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skip(tag & 7);
    }
    return message;
  },

  fromJSON(object: any): HlsGetPlaylistResult {
    return {
      content: isSet(object.content) ? Buffer.from(bytesFromBase64(object.content)) : Buffer.alloc(0),
      contentType: isSet(object.contentType)
        ? globalThis.String(object.contentType)
        : isSet(object.content_type)
        ? globalThis.String(object.content_type)
        : "",
      duration: isSet(object.duration) ? globalThis.Number(object.duration) : 0,
      segmentDuration: isSet(object.segmentDuration)
        ? globalThis.Number(object.segmentDuration)
        : isSet(object.segment_duration)
        ? globalThis.Number(object.segment_duration)
        : 0,
    };
  },

  toJSON(message: HlsGetPlaylistResult): unknown {
    const obj: any = {};
    if (message.content.length !== 0) {
      obj.content = base64FromBytes(message.content);
    }
    if (message.contentType !== "") {
      obj.contentType = message.contentType;
    }
    if (message.duration !== 0) {
      obj.duration = message.duration;
    }
    if (message.segmentDuration !== 0) {
      obj.segmentDuration = Math.round(message.segmentDuration);
    }
    return obj;
  },

  create(base?: DeepPartial<HlsGetPlaylistResult>): HlsGetPlaylistResult {
    return HlsGetPlaylistResult.fromPartial(base ?? {});
  },
  fromPartial(object: DeepPartial<HlsGetPlaylistResult>): HlsGetPlaylistResult {
    const message = createBaseHlsGetPlaylistResult();
    message.content = object.content ?? Buffer.alloc(0);
    message.contentType = object.contentType ?? "";
    message.duration = object.duration ?? 0;
    message.segmentDuration = object.segmentDuration ?? 0;
    return message;
  },
};

function createBaseHlsGetSegmentRequest(): HlsGetSegmentRequest {
  return { path: "", quality: "", segmentNum: 0, startTime: 0 };
}

export const HlsGetSegmentRequest: MessageFns<HlsGetSegmentRequest> = {
  encode(message: HlsGetSegmentRequest, writer: BinaryWriter = new BinaryWriter()): BinaryWriter {
    if (message.path !== "") {
      writer.uint32(10).string(message.path);
    }
    if (message.quality !== "") {
      writer.uint32(18).string(message.quality);
    }
    if (message.segmentNum !== 0) {
      writer.uint32(24).int32(message.segmentNum);
    }
    if (message.startTime !== 0) {
      writer.uint32(37).float(message.startTime);
    }
    return writer;
  },

  decode(input: BinaryReader | Uint8Array, length?: number): HlsGetSegmentRequest {
    const reader = input instanceof BinaryReader ? input : new BinaryReader(input);
    const end = length === undefined ? reader.len : reader.pos + length;
    const message = createBaseHlsGetSegmentRequest();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1: {
          if (tag !== 10) {
            break;
          }

          message.path = reader.string();
          continue;
        }
        case 2: {
          if (tag !== 18) {
            break;
          }

          message.quality = reader.string();
          continue;
        }
        case 3: {
          if (tag !== 24) {
            break;
          }

          message.segmentNum = reader.int32();
          continue;
        }
        case 4: {
          if (tag !== 37) {
            break;
          }

          message.startTime = reader.float();
          continue;
        }
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skip(tag & 7);
    }
    return message;
  },

  fromJSON(object: any): HlsGetSegmentRequest {
    return {
      path: isSet(object.path) ? globalThis.String(object.path) : "",
      quality: isSet(object.quality) ? globalThis.String(object.quality) : "",
      segmentNum: isSet(object.segmentNum)
        ? globalThis.Number(object.segmentNum)
        : isSet(object.segment_num)
        ? globalThis.Number(object.segment_num)
        : 0,
      startTime: isSet(object.startTime)
        ? globalThis.Number(object.startTime)
        : isSet(object.start_time)
        ? globalThis.Number(object.start_time)
        : 0,
    };
  },

  toJSON(message: HlsGetSegmentRequest): unknown {
    const obj: any = {};
    if (message.path !== "") {
      obj.path = message.path;
    }
    if (message.quality !== "") {
      obj.quality = message.quality;
    }
    if (message.segmentNum !== 0) {
      obj.segmentNum = Math.round(message.segmentNum);
    }
    if (message.startTime !== 0) {
      obj.startTime = message.startTime;
    }
    return obj;
  },

  create(base?: DeepPartial<HlsGetSegmentRequest>): HlsGetSegmentRequest {
    return HlsGetSegmentRequest.fromPartial(base ?? {});
  },
  fromPartial(object: DeepPartial<HlsGetSegmentRequest>): HlsGetSegmentRequest {
    const message = createBaseHlsGetSegmentRequest();
    message.path = object.path ?? "";
    message.quality = object.quality ?? "";
    message.segmentNum = object.segmentNum ?? 0;
    message.startTime = object.startTime ?? 0;
    return message;
  },
};

function createBaseHlsGetSegmentResult(): HlsGetSegmentResult {
  return { content: Buffer.alloc(0), contentType: "", createdNewSession: false };
}

export const HlsGetSegmentResult: MessageFns<HlsGetSegmentResult> = {
  encode(message: HlsGetSegmentResult, writer: BinaryWriter = new BinaryWriter()): BinaryWriter {
    if (message.content.length !== 0) {
      writer.uint32(10).bytes(message.content);
    }
    if (message.contentType !== "") {
      writer.uint32(18).string(message.contentType);
    }
    if (message.createdNewSession !== false) {
      writer.uint32(24).bool(message.createdNewSession);
    }
    return writer;
  },

  decode(input: BinaryReader | Uint8Array, length?: number): HlsGetSegmentResult {
    const reader = input instanceof BinaryReader ? input : new BinaryReader(input);
    const end = length === undefined ? reader.len : reader.pos + length;
    const message = createBaseHlsGetSegmentResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1: {
          if (tag !== 10) {
            break;
          }

          message.content = Buffer.from(reader.bytes());
          continue;
        }
        case 2: {
          if (tag !== 18) {
            break;
          }

          message.contentType = reader.string();
          continue;
        }
        case 3: {
          if (tag !== 24) {
            break;
          }

          message.createdNewSession = reader.bool();
          continue;
        }
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skip(tag & 7);
    }
    return message;
  },

  fromJSON(object: any): HlsGetSegmentResult {
    return {
      content: isSet(object.content) ? Buffer.from(bytesFromBase64(object.content)) : Buffer.alloc(0),
      contentType: isSet(object.contentType)
        ? globalThis.String(object.contentType)
        : isSet(object.content_type)
        ? globalThis.String(object.content_type)
        : "",
      createdNewSession: isSet(object.createdNewSession)
        ? globalThis.Boolean(object.createdNewSession)
        : isSet(object.created_new_session)
        ? globalThis.Boolean(object.created_new_session)
        : false,
    };
  },

  toJSON(message: HlsGetSegmentResult): unknown {
    const obj: any = {};
    if (message.content.length !== 0) {
      obj.content = base64FromBytes(message.content);
    }
    if (message.contentType !== "") {
      obj.contentType = message.contentType;
    }
    if (message.createdNewSession !== false) {
      obj.createdNewSession = message.createdNewSession;
    }
    return obj;
  },

  create(base?: DeepPartial<HlsGetSegmentResult>): HlsGetSegmentResult {
    return HlsGetSegmentResult.fromPartial(base ?? {});
  },
  fromPartial(object: DeepPartial<HlsGetSegmentResult>): HlsGetSegmentResult {
    const message = createBaseHlsGetSegmentResult();
    message.content = object.content ?? Buffer.alloc(0);
    message.contentType = object.contentType ?? "";
    message.createdNewSession = object.createdNewSession ?? false;
    return message;
  },
};

function createBaseHlsStopSessionRequest(): HlsStopSessionRequest {
  return { path: "" };
}

export const HlsStopSessionRequest: MessageFns<HlsStopSessionRequest> = {
  encode(message: HlsStopSessionRequest, writer: BinaryWriter = new BinaryWriter()): BinaryWriter {
    if (message.path !== "") {
      writer.uint32(10).string(message.path);
    }
    return writer;
  },

  decode(input: BinaryReader | Uint8Array, length?: number): HlsStopSessionRequest {
    const reader = input instanceof BinaryReader ? input : new BinaryReader(input);
    const end = length === undefined ? reader.len : reader.pos + length;
    const message = createBaseHlsStopSessionRequest();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1: {
          if (tag !== 10) {
            break;
          }

          message.path = reader.string();
          continue;
        }
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skip(tag & 7);
    }
    return message;
  },

  fromJSON(object: any): HlsStopSessionRequest {
    return { path: isSet(object.path) ? globalThis.String(object.path) : "" };
  },

  toJSON(message: HlsStopSessionRequest): unknown {
    const obj: any = {};
    if (message.path !== "") {
      obj.path = message.path;
    }
    return obj;
  },

  create(base?: DeepPartial<HlsStopSessionRequest>): HlsStopSessionRequest {
    return HlsStopSessionRequest.fromPartial(base ?? {});
  },
  fromPartial(object: DeepPartial<HlsStopSessionRequest>): HlsStopSessionRequest {
    const message = createBaseHlsStopSessionRequest();
    message.path = object.path ?? "";
    return message;
  },
};

function createBaseHlsStopSessionResult(): HlsStopSessionResult {
  return {};
}

export const HlsStopSessionResult: MessageFns<HlsStopSessionResult> = {
  encode(_: HlsStopSessionResult, writer: BinaryWriter = new BinaryWriter()): BinaryWriter {
    return writer;
  },

  decode(input: BinaryReader | Uint8Array, length?: number): HlsStopSessionResult {
    const reader = input instanceof BinaryReader ? input : new BinaryReader(input);
    const end = length === undefined ? reader.len : reader.pos + length;
    const message = createBaseHlsStopSessionResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skip(tag & 7);
    }
    return message;
  },

  fromJSON(_: any): HlsStopSessionResult {
    return {};
  },

  toJSON(_: HlsStopSessionResult): unknown {
    const obj: any = {};
    return obj;
  },

  create(base?: DeepPartial<HlsStopSessionResult>): HlsStopSessionResult {
    return HlsStopSessionResult.fromPartial(base ?? {});
  },
  fromPartial(_: DeepPartial<HlsStopSessionResult>): HlsStopSessionResult {
    const message = createBaseHlsStopSessionResult();
    return message;
  },
};

function bytesFromBase64(b64: string): Uint8Array {
  return Uint8Array.from(globalThis.Buffer.from(b64, "base64"));
}

function base64FromBytes(arr: Uint8Array): string {
  return globalThis.Buffer.from(arr).toString("base64");
}

type Builtin = Date | Function | Uint8Array | string | number | boolean | undefined;

export type DeepPartial<T> = T extends Builtin ? T
  : T extends globalThis.Array<infer U> ? globalThis.Array<DeepPartial<U>>
  : T extends ReadonlyArray<infer U> ? ReadonlyArray<DeepPartial<U>>
  : T extends { $case: string } ? { [K in keyof Omit<T, "$case">]?: DeepPartial<T[K]> } & { $case: T["$case"] }
  : T extends {} ? { [K in keyof T]?: DeepPartial<T[K]> }
  : Partial<T>;

function isSet(value: any): boolean {
  return value !== null && value !== undefined;
}

export interface MessageFns<T> {
  encode(message: T, writer?: BinaryWriter): BinaryWriter;
  decode(input: BinaryReader | Uint8Array, length?: number): T;
  fromJSON(object: any): T;
  toJSON(message: T): unknown;
  create(base?: DeepPartial<T>): T;
  fromPartial(object: DeepPartial<T>): T;
}
