// Auto-generated by DjangoCFG - see CLAUDE.md
import * as Enums from "../enums";

/**
 * Request body for POST /api/oauth/authorize User approves or denies device
 * code in browser.
 * 
 * Request model (no read-only fields).
 */
export interface DeviceAuthorizeRequest {
  /** User code to authorize (e.g., ABC-XYZ) */
  user_code: string;
  /** User decision: approve or deny

  * `approve` - approve
  * `deny` - deny */
  action: Enums.DeviceAuthorizeRequestAction;
  /** Workspace ID to grant access to (required for approve) */
  workspace_id?: string | null;
}

/**
 * Response for device authorization.
 * 
 * Response model (includes read-only fields).
 */
export interface DeviceAuthorizeResponse {
  success: boolean;
  message: string;
  user_code: string;
  status: string;
}

/**
 * Request body for POST /api/oauth/device Client sends metadata about itself.
 * 
 * Request model (no read-only fields).
 */
export interface DeviceCodeRequestRequest {
  /** Client application name */
  client_name?: string;
  /** Client version (e.g., 1.0.0) */
  client_version?: string;
  /** Client machine hostname */
  client_hostname?: string;
  /** OS platform: darwin, linux, windows */
  client_platform?: string;
}

/**
 * Response body for POST /api/oauth/device Returns device code info for CLI to
 * display to user.
 * 
 * Response model (includes read-only fields).
 */
export interface DeviceCodeResponse {
  /** Device code for polling (not shown to user) */
  device_code: string;
  /** Human-readable code to show user (e.g., ABC-XYZ) */
  user_code: string;
  /** URL where user authorizes (e.g., https://cmdop.com/device) */
  verification_uri: string;
  /** Seconds until device code expires (typically 900) */
  expires_in: number;
  /** Polling interval in seconds (typically 5) */
  interval: number;
}

/**
 * Request body for POST /api/oauth/revoke Revoke access token or refresh
 * token.
 * 
 * Request model (no read-only fields).
 */
export interface TokenRevokeRequest {
  /** Token to revoke (access or refresh) */
  token: string;
  /** Hint about token type (optional)

  * `access_token` - access_token
  * `refresh_token` - refresh_token */
  token_type_hint?: Enums.TokenRevokeRequestTokenTypeHint;
}

/**
 * Request body for POST /api/oauth/token CLI polls with device_code until
 * approved.
 * 
 * Request model (no read-only fields).
 */
export interface TokenRequestRequest {
  /** OAuth grant type

  * `urn:ietf:params:oauth:grant-type:device_code` - Device Code Flow
  * `refresh_token` - Refresh Token */
  grant_type: Enums.TokenRequestRequestGrantType;
  /** Device code from initial request (for device flow) */
  device_code?: string;
  /** Refresh token (for token refresh) */
  refresh_token?: string;
}

/**
 * Response body for POST /api/oauth/token Returns access token and refresh
 * token.
 * 
 * Response model (includes read-only fields).
 */
export interface TokenResponse {
  /** Access token (cmdop_...) */
  access_token: string;
  /** Refresh token (clitr_...) */
  refresh_token: string;
  /** Token type (always Bearer) */
  token_type?: string;
  /** Access token expiry in seconds */
  expires_in: number;
  /** Token scope */
  scope?: string;
  /** Workspace ID */
  workspace_id: string;
  /** Workspace name */
  workspace_name: string;
  /** User ID */
  user_id: string;
  /** User email (optional) */
  user_email?: string;
}

/**
 * Error response for POST /api/oauth/token OAuth 2.0 standard error format.
 * 
 * Response model (includes read-only fields).
 */
export interface TokenError {
  /** OAuth error code

  * `authorization_pending` - authorization_pending
  * `slow_down` - slow_down
  * `access_denied` - access_denied
  * `expired_token` - expired_token
  * `invalid_grant` - invalid_grant */
  error: Enums.TokenErrorError;
  /** Human-readable error description */
  error_description?: string;
}

/**
 * Response for GET /api/oauth/token/info Returns information about current
 * token.
 * 
 * Response model (includes read-only fields).
 */
export interface TokenInfo {
  id: string;
  /** First 12 characters for identification */
  access_token_prefix: string;
  workspace_id: string;
  workspace_name: string;
  user_id: string;
  username: string;
  client_name?: string;
  client_version?: string;
  client_hostname?: string;
  /** OS platform: darwin, linux, windows */
  client_platform?: string;
  created_at: string;
  access_token_expires_at: string;
  refresh_token_expires_at: string;
  /** Last time access token was used */
  last_used_at?: string | null;
  is_expired: string;
  is_refresh_expired: string;
}

/**
 * 
 * Response model (includes read-only fields).
 */
export interface PaginatedTokenListList {
  /** Total number of items across all pages */
  count: number;
  /** Current page number (1-based) */
  page: number;
  /** Total number of pages */
  pages: number;
  /** Number of items per page */
  page_size: number;
  /** Whether there is a next page */
  has_next: boolean;
  /** Whether there is a previous page */
  has_previous: boolean;
  /** Next page number (null if no next page) */
  next_page?: number | null;
  /** Previous page number (null if no previous page) */
  previous_page?: number | null;
  /** Array of items for current page */
  results: Array<TokenList>;
}

/**
 * Serializer for listing user's CLI tokens.
 * 
 * Response model (includes read-only fields).
 */
export interface TokenList {
  id: string;
  /** First 12 characters for identification */
  access_token_prefix: string;
  workspace_name: string;
  client_name?: string;
  client_hostname?: string;
  /** OS platform: darwin, linux, windows */
  client_platform?: string;
  created_at: string;
  /** Last time access token was used */
  last_used_at?: string | null;
  revoked_at?: string | null;
  is_active: string;
}

